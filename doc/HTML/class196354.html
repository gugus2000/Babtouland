<?xml version="1.0" encoding="UTF-8"?>
<!-- Documentation produced by the Html generator of Bouml (http://www.bouml.fr) -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>Class StringParser</title>
<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body bgcolor="#ffffff">

<div class = "title">Class StringParser</div>
<p></p>

<!-- ============================================================= -->

<a name="ref4_196354"></a>
<p>Generic string parser class<br /><br />This is an abstract class for any type of string parser.<br /><br />@package stringparser<br /><br /></p>
<p>Declaration :</p><ul>
<li>Php : class StringParser </li></ul><p>Directly inherited by : <a href="class196866.html#ref4_196866"><b>StringParser_BBCode</b></a> </p>
<p>Artifact : <a href="index.html#ref8_236418"><b>StringParser.class</b></a></p>
<div class="sub">
<a name="ref1_268418"></a>
<table><tr><td><div class="element">Attribute <b>_parserMode</b></div></td></tr></table>
<p>String parser mode<br /><br />There are two possible modes: searchmode and loop mode. In loop mode<br />every single character is looked at in a loop and it is then decided<br />what action to take. This is the most straight-forward approach to<br />string parsing but due to the nature of PHP as a scripting language,<br />it can also cost performance. In search mode the class posseses a<br />list of relevant characters for parsing and uses the<br />{@link PHP_MANUAL#strpos strpos} function to search for the next<br />relevant character. The search mode will be faster than the loop mode<br />in most circumstances but it is also more difficult to implement.<br />The subclass that does the string parsing itself will define which<br />mode it will implement.<br /><br />@access protected <br />@var int<br />@see STRINGPARSER_MODE_SEARCH, STRINGPARSER_MODE_LOOP<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _parserMode : int =  STRINGPARSER_MODE_SEARCH</li><li>Php : protected $_parserMode</li></ul><a name="ref1_268546"></a>
<table><tr><td><div class="element">Attribute <b>_text</b></div></td></tr></table>
<p>Raw text<br />@access protected <br />@var string<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _text : string =  ''</li><li>Php : protected $_text</li></ul><a name="ref1_268674"></a>
<table><tr><td><div class="element">Attribute <b>_stack</b></div></td></tr></table>
<p>Parse stack<br />@access protected <br />@var array<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _stack : array =  array ()</li><li>Php : protected $_stack</li></ul><a name="ref1_268802"></a>
<table><tr><td><div class="element">Attribute <b>_cpos</b></div></td></tr></table>
<p>Current position in raw text<br />@access protected <br />@var integer<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _cpos : integer =  -1</li><li>Php : protected $_cpos</li></ul><a name="ref1_268930"></a>
<table><tr><td><div class="element">Attribute <b>_root</b></div></td></tr></table>
<p>Root node<br />@access protected <br />@var mixed<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _root : mixed =  null</li><li>Php : protected $_root</li></ul><a name="ref1_269058"></a>
<table><tr><td><div class="element">Attribute <b>_length</b></div></td></tr></table>
<p>Length of the text<br />@access protected <br />@var integer<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _length : integer =  -1</li><li>Php : protected $_length</li></ul><a name="ref1_269186"></a>
<table><tr><td><div class="element">Attribute <b>_parsing</b></div></td></tr></table>
<p>Flag if this object is already parsing a text<br /><br />This flag is to prevent recursive calls to the parse() function that<br />would cause very nasty things.<br /><br />@access protected <br />@var boolean<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _parsing : boolean =  false</li><li>Php : protected $_parsing</li></ul><a name="ref1_269314"></a>
<table><tr><td><div class="element">Attribute <b>strict</b></div></td></tr></table>
<p>Strict mode<br /><br />Whether to stop parsing if a parse error occurs.<br /><br />@access public <br />@var boolean<br /><br /></p><p>Declaration :</p><ul><li>Uml : + strict : boolean =  false</li><li>Php : public $strict</li></ul><a name="ref1_269442"></a>
<table><tr><td><div class="element">Attribute <b>_charactersSearch</b></div></td></tr></table>
<p>Characters or strings to look for<br />@access protected <br />@var array<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _charactersSearch : array =  array ()</li><li>Php : protected $_charactersSearch</li></ul><a name="ref1_269570"></a>
<table><tr><td><div class="element">Attribute <b>_charactersAllowed</b></div></td></tr></table>
<p>Characters currently allowed<br /><br />Note that this will only be evaluated in loop mode; in search mode<br />this would ruin every performance increase. Note that only single<br />characters are permitted here, no strings. Please also note that in<br />loop mode, {@link StringParser::_charactersSearch _charactersSearch}<br />is evaluated before this variable.<br /><br />If in strict mode, parsing is stopped if a character that is not<br />allowed is encountered. If not in strict mode, the character is<br />simply ignored.<br /><br />@access protected <br />@var array<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _charactersAllowed : array =  array ()</li><li>Php : protected $_charactersAllowed</li></ul><a name="ref1_269698"></a>
<table><tr><td><div class="element">Attribute <b>_status</b></div></td></tr></table>
<p>Current parser status<br />@access protected <br />@var int<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _status : int =  0</li><li>Php : protected $_status</li></ul><a name="ref1_269826"></a>
<table><tr><td><div class="element">Attribute <b>_prefilters</b></div></td></tr></table>
<p>Prefilters<br />@access protected <br />@var array<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _prefilters : array =  array ()</li><li>Php : protected $_prefilters</li></ul><a name="ref1_269954"></a>
<table><tr><td><div class="element">Attribute <b>_postfilters</b></div></td></tr></table>
<p>Postfilters<br />@access protected <br />@var array<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _postfilters : array =  array ()</li><li>Php : protected $_postfilters</li></ul><a name="ref1_270082"></a>
<table><tr><td><div class="element">Attribute <b>_recentlyReparsed</b></div></td></tr></table>
<p>Recently reparsed?<br />@access protected <br />@var bool<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _recentlyReparsed : bool =  false</li><li>Php : protected $_recentlyReparsed</li></ul><a name="ref2_481410"></a>
<table><tr><td><div class="element">Operation <b>__construct</b></div></td></tr></table><p>Constructor<br /><br />@access public <br /><br /></p><p>Declaration :</p><ul><li>Uml : + __construct() : </li><li>Php : public function __construct() </li></ul><a name="ref2_481538"></a>
<table><tr><td><div class="element">Operation <b>addFilter</b></div></td></tr></table><p>Add a filter<br /><br />@access public <br />@param int $type The type of the filter<br />@param mixed $callback The callback to call<br />@return bool<br />@see STRINGPARSER_FILTER_PRE, STRINGPARSER_FILTER_POST<br /><br /></p><p>Declaration :</p><ul><li>Uml : + addFilter(in type : int, in callback : mixed) : bool</li><li>Php : public function addFilter($type, $callback): bool </li></ul><a name="ref2_481666"></a>
<table><tr><td><div class="element">Operation <b>clearFilters</b></div></td></tr></table><p>Remove all filters<br /><br />@access public <br />@param int $type The type of the filter or 0 for all<br />@return bool<br />@see STRINGPARSER_FILTER_PRE, STRINGPARSER_FILTER_POST<br /><br /></p><p>Declaration :</p><ul><li>Uml : + clearFilters(in type : int = 0) : bool</li><li>Php : public function clearFilters($type = 0): bool </li></ul><a name="ref2_481794"></a>
<table><tr><td><div class="element">Operation <b>parse</b></div></td></tr></table><p>This function parses the text<br /><br />@access public <br />@param string $text The text to parse<br />@return mixed Either the root object of the tree if no output method<br />              is defined, the tree reoutput to e.g. a string or false<br />              if an internal error occured, such as a parse error if<br />              in strict mode or the object is already parsing a text.<br /><br /></p><p>Declaration :</p><ul><li>Uml : + parse(in text : string) : mixed</li><li>Php : public function parse($text): mixed </li></ul><a name="ref2_481922"></a>
<table><tr><td><div class="element">Operation <b>_applyPrefilters</b></div></td></tr></table><p>Apply prefilters<br /><br />It is possible to specify prefilters for the parser to do some<br />manipulating of the string beforehand.<br /><br /></p><p>Declaration :</p><ul><li>Uml : ~ _applyPrefilters(in text : ) : </li><li>Php :  function _applyPrefilters($text) </li></ul><a name="ref2_482050"></a>
<table><tr><td><div class="element">Operation <b>_applyPostfilters</b></div></td></tr></table><p>Apply postfilters<br /><br />It is possible to specify postfilters for the parser to do some<br />manipulating of the string afterwards.<br /><br /></p><p>Declaration :</p><ul><li>Uml : ~ _applyPostfilters(in text : ) : </li><li>Php :  function _applyPostfilters($text) </li></ul><a name="ref2_482178"></a>
<table><tr><td><div class="element">Operation <b>_modifyTree</b></div></td></tr></table><p>Abstract method: Manipulate the tree<br />@access protected <br />@return bool<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _modifyTree() : bool</li><li>Php : protected function _modifyTree(): bool </li></ul><a name="ref2_482306"></a>
<table><tr><td><div class="element">Operation <b>_outputTree</b></div></td></tr></table><p>Abstract method: Output tree<br />@access protected <br />@return bool<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _outputTree() : bool</li><li>Php : protected function _outputTree(): bool </li></ul><a name="ref2_482434"></a>
<table><tr><td><div class="element">Operation <b>_reparseAfterCurrentBlock</b></div></td></tr></table><p>Restart parsing after current block<br /><br />To achieve this the current top stack object is removed from the<br />tree. Then the current item<br /><br />@access protected <br />@return bool<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _reparseAfterCurrentBlock() : bool</li><li>Php : protected function _reparseAfterCurrentBlock(): bool </li></ul><a name="ref2_482562"></a>
<table><tr><td><div class="element">Operation <b>_closeRemainingBlocks</b></div></td></tr></table><p>Abstract method: Close remaining blocks<br />@access protected <br /><br /></p><p>Declaration :</p><ul><li>Uml : # _closeRemainingBlocks() : </li><li>Php : protected function _closeRemainingBlocks() </li></ul><a name="ref2_482690"></a>
<table><tr><td><div class="element">Operation <b>_parserInit</b></div></td></tr></table><p>Abstract method: Initialize the parser<br />@access protected <br /><br /></p><p>Declaration :</p><ul><li>Uml : # _parserInit() : </li><li>Php : protected function _parserInit() </li></ul><a name="ref2_482818"></a>
<table><tr><td><div class="element">Operation <b>_setStatus</b></div></td></tr></table><p>Abstract method: Set a specific status<br />@access protected <br /><br /></p><p>Declaration :</p><ul><li>Uml : # _setStatus(in status : ) : </li><li>Php : protected function _setStatus($status) </li></ul><a name="ref2_482946"></a>
<table><tr><td><div class="element">Operation <b>_handleStatus</b></div></td></tr></table><p>Abstract method: Handle status<br />@access protected <br />@param int $status The current status<br />@param string $needle The needle that was found<br />@return bool<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _handleStatus(in status : int, in needle : string) : bool</li><li>Php : protected function _handleStatus($status, $needle): bool </li></ul><a name="ref2_483074"></a>
<table><tr><td><div class="element">Operation <b>_searchLoop</b></div></td></tr></table><p>Search mode loop<br />@access protected <br />@return bool<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _searchLoop() : bool</li><li>Php : protected function _searchLoop(): bool </li></ul><a name="ref2_483202"></a>
<table><tr><td><div class="element">Operation <b>_loop</b></div></td></tr></table><p>Loop mode loop<br /><br />@access protected <br />@return bool<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _loop() : bool</li><li>Php : protected function _loop(): bool </li></ul><a name="ref2_483330"></a>
<table><tr><td><div class="element">Operation <b>_appendText</b></div></td></tr></table><p>Abstract method Append text depending on current status<br />@access protected <br />@param string $text The text to append<br />@return bool On success, the function returns true, else false<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _appendText(in text : string) : bool</li><li>Php : protected function _appendText($text): bool </li></ul><a name="ref2_483458"></a>
<table><tr><td><div class="element">Operation <b>_appendToLastTextChild</b></div></td></tr></table><p>Append text to last text child of current top parser stack node<br />@access protected <br />@param string $text The text to append<br />@return bool On success, the function returns true, else false<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _appendToLastTextChild(in text : string) : bool</li><li>Php : protected function _appendToLastTextChild($text): bool </li></ul><a name="ref2_483586"></a>
<table><tr><td><div class="element">Operation <b>_strpos</b></div></td></tr></table><p>Searches {@link StringParser::_text _text} for every needle that is<br />specified by using the {@link PHP_MANUAL#strpos strpos} function. It<br />returns an associative array with the key <code>'needle'</code><br />pointing at the string that was found first and the key<br /><code>'offset'</code> pointing at the offset at which the string was<br />found first. If no needle was found, the <code>'needle'</code><br />element is <code>false</code> and the <code>'offset'</code> element<br />is <code>-1</code>.<br /><br />@access protected <br />@param array $needles<br />@param int $offset<br />@return array<br />@see StringParser::_text<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _strpos(in needles : array, in offset : int) : array</li><li>Php : protected function _strpos($needles, $offset): array </li></ul><a name="ref2_483714"></a>
<table><tr><td><div class="element">Operation <b>_strDetect</b></div></td></tr></table><p>Detects a string at the current position<br /><br />@access protected <br />@param array $needles The strings that are to be detected<br />@param int $offset The current offset<br />@return mixed The string that was detected or the needle<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _strDetect(in needles : array, in offset : int) : mixed</li><li>Php : protected function _strDetect($needles, $offset): mixed </li></ul><a name="ref2_483842"></a>
<table><tr><td><div class="element">Operation <b>_pushNode</b></div></td></tr></table><p>Adds a node to the current parse stack<br /><br />@access protected <br />@param object $node The node that is to be added<br />@return bool True on success, else false.<br />@see StringParser_Node, StringParser::_stack<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _pushNode(inout node : object) : bool</li><li>Php : protected function _pushNode(&amp; $node): bool </li></ul><a name="ref2_483970"></a>
<table><tr><td><div class="element">Operation <b>_popNode</b></div></td></tr></table><p>Removes a node from the current parse stack<br /><br />@access protected <br />@return bool True on success, else false.<br />@see StringParser_Node, StringParser::_stack<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _popNode() : bool</li><li>Php : protected function _popNode(): bool </li></ul><a name="ref2_484098"></a>
<table><tr><td><div class="element">Operation <b>_topNode</b></div></td></tr></table><p>Execute a method on the top element<br /><br />@access protected <br />@return mixed<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _topNode() : mixed</li><li>Php : protected function _topNode(): mixed </li></ul><a name="ref2_484226"></a>
<table><tr><td><div class="element">Operation <b>_topNodeVar</b></div></td></tr></table><p>Get a variable of the top element<br /><br />@access protected <br />@return mixed<br /><br /></p><p>Declaration :</p><ul><li>Uml : # _topNodeVar(in var : ) : mixed</li><li>Php : protected function _topNodeVar($var): mixed </li></ul></div>
<p>All public operations : <a href="class196354.html#ref2_481410"><b>__construct</b></a> , <a href="class196354.html#ref2_481538"><b>addFilter</b></a> , <a href="class196354.html#ref2_481666"><b>clearFilters</b></a> , <a href="class196354.html#ref2_481794"><b>parse</b></a> </p>
</body>
</html>
